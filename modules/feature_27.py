# Feature 27.py implementation here

import streamlit as st
import random

def app():
    st.header("ЁЯМК ржмржирзНржпрж╛ ржЭрзБржБржХрж┐ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг")
    st.markdown("""
    ржПржЗ ржоржбрж┐ржЙрж▓ ржиржжрзАрж░ ржЖрж╢ржкрж╛рж╢рзЗрж░ ржПрж▓рж╛ржХрж╛рзЯ ржмржирзНржпрж╛рж░ рж╕ржорзНржнрж╛ржмрзНржп ржЭрзБржБржХрж┐ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржХрж░рзЗ рж░рж┐ржкрзЛрж░рзНржЯ рждрзИрж░рж┐ ржХрж░рзЗред
    """)

    # ржХрж┐ржЫрзБ ржлрж┐ржХрзНрж╕ржб ржПрж▓рж╛ржХрж╛ ржЙржжрж╛рж╣рж░ржг рж╕рзНржмрж░рзВржк
    areas = ["ржХрзБржорж┐рж▓рзНрж▓рж╛", "ржврж╛ржХрж╛", "ржЪржЯрзНржЯржЧрзНрж░рж╛ржо", "рж░рж╛ржЬрж╢рж╛рж╣рзА", "ржмрж░рж┐рж╢рж╛рж▓"]
    selected_area = st.selectbox("ржПрж▓рж╛ржХрж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи", areas)

    # ржмрзГрж╖рзНржЯрж┐ржкрж╛ржд ржПржмржВ ржиржжрзАрж░ ржкрж╛ржирж┐ ржЙржЪрзНржЪрждрж╛рж░ ржбрж╛ржорж┐ ржбрзЗржЯрж╛ (ржбрзЗржорзЛ)
    rainfall = st.slider("ржмрзГрж╖рзНржЯрж┐ржкрж╛рждрзЗрж░ ржкрж░рж┐ржорж╛ржг (ржорж┐ржорж┐)", 0, 500, 150)
    river_level = st.slider("ржиржжрзАрж░ ржкрж╛ржирж┐ ржЙржЪрзНржЪрждрж╛ (ржорж┐ржЯрж╛рж░)", 0.0, 20.0, 5.0)

    # ржЭрзБржБржХрж┐ ржорзВрж▓рзНржпрж╛рзЯржи
    def calculate_flood_risk(rainfall, river_level):
        score = rainfall * 0.6 + river_level * 20
        if score > 200:
            return "ржЙржЪрзНржЪ ржЭрзБржБржХрж┐"
        elif score > 100:
            return "ржоржзрзНржпржо ржЭрзБржБржХрж┐"
        else:
            return "ржХржо ржЭрзБржБржХрж┐"

    risk = calculate_flood_risk(rainfall, river_level)

    st.subheader(f"{selected_area} ржПрж▓рж╛ржХрж╛рж░ ржмржирзНржпрж╛ ржЭрзБржБржХрж┐: {risk}")

    # ржЭрзБржБржХрж┐ ржЕржирзБржпрж╛рзЯрзА ржкрж░рж╛ржорж░рзНрж╢
    if risk == "ржЙржЪрзНржЪ ржЭрзБржБржХрж┐":
        st.error("рж╕рждрж░рзНржХрждрж╛! ржмржирзНржпрж╛рж░ рж╕ржорзНржнрж╛ржмржирж╛ ржмрзЗрж╢рж┐ред ржкрзНрж░рж╕рзНрждрзБрждрж┐ ржирж┐ржиред")
    elif risk == "ржоржзрзНржпржо ржЭрзБржБржХрж┐":
        st.warning("ржоржзрзНржпржо ржЭрзБржБржХрж┐ред ржоржирзЛржпрзЛржЧ ржжрж┐ржиред")
    else:
        st.success("ржЭрзБржБржХрж┐ ржХржоред ржирж┐рж░рж╛ржкржжред")


