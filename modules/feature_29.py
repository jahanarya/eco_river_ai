# Feature 29.py implementation here

import streamlit as st
import pygame
import os

def app():
    st.header("ЁЯЪи ржПржорж╛рж░рзНржЬрзЗржирзНрж╕рж┐ ржЕрзНржпрж╛рж▓рж╛рж░рзНржЯ рж╕рж╛ржЙржирзНржб")

    st.markdown("""
    ржЬрж░рзБрж░рж┐ ржкрж░рж┐рж╕рзНржерж┐рждрж┐рждрзЗ ржжрзНрж░рзБржд рж╕рждрж░рзНржХрждрж╛ ржЬрж╛ржирж╛рждрзЗ ржПржЗ ржлрж┐ржЪрж╛рж░ржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред
    ржПржХржЯрж┐ ржЕрзНржпрж╛рж▓рж╛рж░рзНржЯ рж╕рж╛ржЙржирзНржб ржкрзНрж▓рзЗ ржХрж░рж╛ рж╣ржмрзЗ ржпрж╛ ржкрж░рж┐рж╕рзНржерж┐рждрж┐ ржЬрж╛ржирж╛ржмрзЗред
    """)

    if 'pygame_initialized' not in st.session_state:
        pygame.mixer.init()
        st.session_state['pygame_initialized'] = True

    alert_sound_path = "modules/assets/alert_sound.mp3"  # ржЖржкржирж╛ржХрзЗ ржПржЗ ржлрж╛ржЗрж▓ржЯрж┐ ржЖржкржирж╛рж░ ржкрзНрж░рзЛржЬрзЗржХрзНржЯрзЗ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗ

    if st.button("ржЕрзНржпрж╛рж▓рж╛рж░рзНржЯ рж╕рж╛ржЙржирзНржб ржЪрж╛рж▓рзБ ржХрж░рзБржи"):
        if os.path.exists(alert_sound_path):
            pygame.mixer.music.load(alert_sound_path)
            pygame.mixer.music.play()
            st.success("рж╕рж╛ржЙржирзНржб ржкрзНрж▓рзЗ рж╣ржЪрзНржЫрзЗ...")
        else:
            st.error("рж╕рж╛ржЙржирзНржб ржлрж╛ржЗрж▓ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯржирж┐!")

    if st.button("ржЕрзНржпрж╛рж▓рж╛рж░рзНржЯ рж╕рж╛ржЙржирзНржб ржмржирзНржз ржХрж░рзБржи"):
        pygame.mixer.music.stop()
        st.info("рж╕рж╛ржЙржирзНржб ржмржирзНржз ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред")

